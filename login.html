<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Login | Rede de Apoio</title>
		<meta name="description" content="Faça login na Rede de Apoio para Saúde Mental">
		
		<!-- Bootstrap -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

		<link rel="stylesheet" href="css/styles.css">
		<script src="script/olaNome.js" defer></script>
	</head>

	<body>
		<!-- Header -->
		<header class="sticky-top">
			<nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom">
				<div class="container">
					<a class="navbar-brand d-flex align-items-center" href="index.html">
						<div class="rounded-circle bg-teal p-1 me-2">
							<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
								class="bi text-white bi-heart-pulse" viewBox="0 0 16 16">
								<path
									d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053.918 3.995.78 5.323 1.508 7H.43c-2.128-5.697 4.165-8.83 7.394-5.857q.09.083.176.171a3 3 0 0 1 .176-.17c3.23-2.974 9.522.159 7.394 5.856h-1.078c.728-1.677.59-3.005.108-3.947C13.486.878 10.4.28 8.717 2.01zM2.212 10h1.315C4.593 11.183 6.05 12.458 8 13.795c1.949-1.337 3.407-2.612 4.473-3.795h1.315c-1.265 1.566-3.14 3.25-5.788 5-2.648-1.75-4.523-3.434-5.788-5" />
								<path
									d="M10.464 3.314a.5.5 0 0 0-.945.049L7.921 8.956 6.464 5.314a.5.5 0 0 0-.88-.091L3.732 8H.5a.5.5 0 0 0 0 1H4a.5.5 0 0 0 .416-.223l1.473-2.209 1.647 4.118a.5.5 0 0 0 .945-.049l1.598-5.593 1.457 3.642A.5.5 0 0 0 12 9h3.5a.5.5 0 0 0 0-1h-3.162z" />
							</svg>
						</div>
						<span class="fw-bold text-teal">Rede de Apoio</span>
					</a>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
						aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarNav">
						<ul class="navbar-nav me-auto">
							<li class="nav-item">
								<a class="nav-link" href="index.html">Início</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="voluntarios.html">Voluntários</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="agendamento.html">Agendamento</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="blog.html">Blog</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="faq.html">FAQ</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="contato.html">Contato</a>
							</li>
						</ul>
						<div id="area-login" class="d-flex gap-2">
							<!-- Injetado por JS -->
						</div>
					</div>
				</div>
			</nav>
		</header>

		<main>
			<div class="container py-5 py-md-7">
				<div class="row justify-content-center">
					<div class="col-md-8 col-lg-6 col-xl-5">
						<div class="card border-0 shadow-sm">
							<div class="card-header bg-white border-0 pt-4">
								<h1 class="h3 mb-1">Login</h1>
								<p class="text-muted">Entre na sua conta para acessar a plataforma.</p>
							</div>
							<div class="card-body">
								<form id="form-login">
									<div class="mb-3">
										<label for="email-login" class="form-label">E-mail</label>
										<input type="email" class="form-control" id="email-login"
											placeholder="seu.email@exemplo.com">
									</div>
									<div class="mb-3">
										<div class="d-flex justify-content-between">
											<label for="senha-login" class="form-label">Senha</label>
											<a href="recuperar-senha.html"
												class="text-teal text-decoration-none small">Esqueceu a senha?</a>
										</div>
										<input type="password" class="form-control" id="senha-login"
											placeholder="Sua senha">
									</div>
									<div class="mb-4 form-check">
										<input type="checkbox" class="form-check-input" id="lembrar">
										<label class="form-check-label small" for="lembrar">Lembrar de mim</label>
									</div>
									<button type="submit" class="btn btn-teal w-100 mb-3">Entrar</button>
									<p class="text-center text-muted small">
										Não tem uma conta? <a href="cadastro.html"
											class="text-teal text-decoration-none">Cadastre-se</a>
									</p>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</main>

		<!-- Footer -->
		<footer class="bg-white border-top py-5">
			<div class="container">
				<div class="row g-4">
					<div class="col-lg-3 col-md-6">
						<h5 class="mb-4">Rede de Apoio</h5>
						<p class="text-muted small">
							Conectando voluntários a pessoas que precisam de apoio emocional.
						</p>
						<div class="d-flex gap-3 mt-3">
							<a href="#" class="text-muted">
								<i class="bi bi-facebook"></i>
								<span class="visually-hidden">Facebook</span>
							</a>
							<a href="#" class="text-muted">
								<i class="bi bi-instagram"></i>
								<span class="visually-hidden">Instagram</span>
							</a>
							<a href="#" class="text-muted">
								<i class="bi bi-twitter"></i>
								<span class="visually-hidden">Twitter</span>
							</a>
						</div>
					</div>
					<div class="col-lg-3 col-md-6">
						<h5 class="mb-4">Links Rápidos</h5>
						<ul class="list-unstyled">
							<li class="mb-2">
								<a href="index.html" class="text-muted text-decoration-none">Início</a>
							</li>
							<li class="mb-2">
								<a href="voluntarios.html" class="text-muted text-decoration-none">Voluntários</a>
							</li>
							<li class="mb-2">
								<a href="agendamento.html" class="text-muted text-decoration-none">Agendamento</a>
							</li>
							<li class="mb-2">
								<a href="blog.html" class="text-muted text-decoration-none">Blog</a>
							</li>
						</ul>
					</div>
					<div class="col-lg-3 col-md-6">
						<h5 class="mb-4">Suporte</h5>
						<ul class="list-unstyled">
							<li class="mb-2">
								<a href="faq.html" class="text-muted text-decoration-none">FAQ</a>
							</li>
							<li class="mb-2">
								<a href="contato.html" class="text-muted text-decoration-none">Contato</a>
							</li>
							<li class="mb-2">
								<a href="#" class="text-muted text-decoration-none">Termos de Uso</a>
							</li>
							<li class="mb-2">
								<a href="#" class="text-muted text-decoration-none">Política de
									Privacidade</a>
							</li>
						</ul>
					</div>
					<div class="col-lg-3 col-md-6">
						<h5 class="mb-4">Emergência</h5>
						<p class="text-muted small mb-2">Em caso de emergência, ligue:</p>
						<p class="h4 fw-bold text-teal">188</p>
						<p class="text-muted small mt-2">Centro de Valorização da Vida (CVV)</p>
					</div>
				</div>
				<div class="border-top mt-5 pt-4 text-center text-muted small">
					<p>&copy;
						<script>document.write(new Date().getFullYear())</script> Rede de Apoio para Saúde Mental. Todos os
						direitos reservados.
					</p>
				</div>
			</div>
		</footer>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
		<script>
			const formLogin = document.getElementById('form-login');
			const inputEmail = document.getElementById('email-login');
			const inputSenha = document.getElementById('senha-login');

			formLogin.addEventListener('submit', function (e) {
				e.preventDefault();

				const email = inputEmail.value.trim();
				const senha = inputSenha.value;

				const dados = localStorage.getItem(email);

				if (dados) {
					const usuario = JSON.parse(dados);
	
					if (senha === usuario.senha) {
						// Login correto
						localStorage.setItem('usuarioLogado', JSON.stringify(usuario));
						window.location.href = "index.html";
					} else {
						inputSenha.classList.add('is-invalid');
					}
				} else {
					inputEmail.classList.add('is-invalid');
				}

				const voluntarios = JSON.parse(localStorage.getItem('voluntarios')) || [];
				const voluntario = voluntarios.find(v => v.emailVol === email);

				if (voluntario) {
					if (senha == voluntario.senhaVol) {
						localStorage.setItem('voluntarioLogado', JSON.stringify(voluntario));
						window.location.href = "index.html"; 
					} else {
						inputSenha.classList.add('is-invalid');
					}
				} else {
					inputEmail.classList.add('is-invalid');
				}
			});
		</script>
	</body>
</html>